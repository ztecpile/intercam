<!DOCTYPE html>
 
<hr class="red" />
<strong><h5>Profesi√≥n</h5></strong>
<hr class="red" />
    <div class="container">
        
    <form [formGroup]="funcForm" class="formulario" (ngSubmit)="onSubmit()" autocomplete="off" idbForm >
        <br>
        <div class="mat-elevation-z8">
                <table id="tabla" mat-table matSort [dataSource]="dataSource" class=" mat-elevation-z8" matSortActive="observacion" matSortDirection="asc">
                    <ng-container matColumnDef="observacion">
                        <th mat-header-cell *matHeaderCellDef   mat-sort-header>Observaciones</th>
                        <td mat-cell *matCellDef="let row" (click)="selectProfesion(row)">
                            {{row.proDescripcion}}
                        </td>
                    </ng-container>
                    <ng-container  matColumnDef="proRiesgo">
                        <th hidden mat-header-cell *matHeaderCellDef>Riesgo</th>
                        <td  hidden mat-cell *matCellDef="let row" (click)="selectProfesion(row)" >
                            {{row.proRiesgo}}
                        </td>
                      
                    </ng-container>
                    <ng-container  matColumnDef="proClave">
                        <th hidden mat-header-cell *matHeaderCellDef>proClave</th>
                        <td hidden mat-cell *matCellDef="let row" (click)="selectProfesion(row)" >
                            {{row.proClave}}
                        </td>
                      
                    </ng-container>

                    <ng-container  matColumnDef="proNumeroClProfes">
                        <th hidden  mat-header-cell *matHeaderCellDef>proNumeroClProfes</th>
                        <td hidden mat-cell *matCellDef="let row" (click)="selectProfesion(row)" >
                            {{row.proNumeroClProfes}}
                        </td>
                       
                    </ng-container>
                    <tr mat-header-row *matHeaderRowDef="displayedColumnsProfesiones"></tr>
                    <tr mat-row *matRowDef="let row; columns: displayedColumnsProfesiones"
                    [ngClass]="{ 'selected': row === selectedProfesion }" (click)="selected(row)">
                    </tr>
                </table>   
                <div id="paginadorDiv" class="row" hidden>
                    <mat-paginator [pageSizeOptions]="[20]" showFirstLastButtons></mat-paginator> 
  
                </div>
                      </div>
        <br>
        
            
            <div class="row">
                <div id="divObservacion" class="col-sm-3">
                    <input type="text" [disabled]="true" class="formulario__input" maxlength="50" required="true"   (input)="actualizacionDescripcion($event)" formControlName="observacion" idbInput >
                    <label class="formulario__label">OBSERVACIONES*</label>
                    <mat-hint class="form-warnig" *ngIf="submitted && funcForm.controls.observacion.hasError('required')">El campo es requerido. </mat-hint>

                </div>
                <div id="nivelRiesgo" disabled="funcForm.invalid" class="col-sm-2">
                    <input   type="text" [disabled]="funcForm.invalid" class="formulario__input"   pattern="^\d*[0-3]\d*$"  maxlength="1" (input)="actualizacionNivel($event)" [defaultValue]="0"  formControlName="proRiesgo" idbInput>
                    <label class="formulario__label">NIVEL DE RIESGO</label>
                    <mat-hint class="form-warnig" *ngIf="submitted && funcForm.controls.proRiesgo.hasError('pattern')">El Nivel de Riesgo solo acepta 0,1,2,3. </mat-hint>
                </div> 
            </div>
            
                
                
                <div class="row col-sm-6 flex-container">
                    <button class="btn-img buscar-btn"  [disabled]="btnBuscarIf"  (click)="obtenerProfesiones()" type="submit"><span class="tooltip">Buscar</span></button>
                    <button class="btn-img alta-btn" [disabled]="btnAltaIf" (click)="habilitaCampos($event)"  type="submit"><span class="tooltip">Alta</span></button>
                    <button class="btn-img save-button" [disabled]="btnGuardarIf" (click)="validarModalidad($event)"  type="submit"><span class="tooltip">Guardar</span></button>
                    <button class="btn-img eliminar-button" [disabled]="btnEliminarIf"  (click)="eliminar($event)"  type="submit"><span class="tooltip">Borrar</span></button>
                    <button class="btn-img deshacer-button" [disabled]="btnDeshacerIf" (click)="resetValidador()"   type="submit"><span class="tooltip">Deshacer</span></button>
                    
                </div>   
        

        <!-- <div>
        <input type="number" min="1" max="100" />
    </div> -->

 

    </form>
    
</div>

