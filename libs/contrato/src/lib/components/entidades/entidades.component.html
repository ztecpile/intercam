
<!DOCTYPE html>
<hr class="red" />
<h2>Entidad</h2>
<hr class="red" />
    <div class="container">
 
    <form [formGroup]="funcForm" class="formulario" (ngSubmit)="onSubmit()" autocomplete="off" idbForm >
             <br>
            <div class="row">
                <div  id="divcboPais" class="col-sm-3">
                    <div class="caja">
                        <select formControlName="cboPaisOr" [control]="getCtr('cboPaisOr')" (ngModelChange)="obtenerEntidades($event)"idbInput>
                            <option value="">Seleccione</option>
                            <option *ngFor="let pai of arrPais" [value]="pai.paiClave"> {{pai.paiDescripcion}}
                            </option>
                        </select>
                    </div>
                    <label appearance="fill" class="formulario__label">{{'Pa√≠s' }}</label>
                </div>
            </div>
            <br>
            <div class="table-container-coincidencias" >
                
                    <table mat-table matTableFilter  [dataSource]="dataSource" id="tablaEntidad" class="table-hover" 
                    matSort matSortChange="announceSortChange($event)">
                        <ng-container  matColumnDef="Entidad">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Entidad">Entidad</th>
                            <td mat-cell *matCellDef="let row" (click)="selectEntidades(row)"> 
                                {{row.entDescripcion}}
                            </td>
                        </ng-container>
        
                        <ng-container matColumnDef="Clave">
                            <th mat-header-cell *matHeaderCellDef>Clave</th>
                            <td mat-cell *matCellDef="let row" (click)="selectEntidades(row)">
                              {{row.entClave}}
                            </td>
                        </ng-container>
                        <tr soporte:filterPost></tr>
                        <tr mat-header-row *matHeaderRowDef="displayedColumnsEntidades"></tr>
                        <tr mat-row  *matRowDef="let row; columns: displayedColumnsEntidades">
                        </tr>
                    </table> 
                    <div id="paginadorDiv" class="row" hidden>
                        <mat-paginator [pageSizeOptions]="[5]" showFirstLastButtons></mat-paginator> 
      
                    </div>
            </div>
            <br>
            <div class="row">
                <div id="divEntidad" class="col-sm-3">
                    <input type="text" [disabled]="true" class="formulario__input" [control]="getCtr('entidad')" (input)="actualizacionEntidad($event)" formControlName="entidad" idbInput >
                    <label class="formulario__label">Entidad</label>
                     
                </div>
                <div id="abreviatura" class="col-sm-2">
                      <input type="text" class="formulario__input" [control]="getCtr('abreviatura')"  (input)="actualizacionAbrev($event)" formControlName="abreviatura"  idbInput>
                    <label class="formulario__label">Abreviatura</label>                    
                     
                </div>
                <div id="claveCNBV" class="col-sm-2">
                  <input type="text" class="formulario__input" [control]="getCtr('claveCNBV')" (input)="actualizacionClaveCBNV($event)" formControlName="claveCNBV"  idbInput>
                    
                    <label class="formulario__label">Clave CNBV</label>
                </div>
                <div id="codigoBroxel" class="col-sm-2">
                    <input [disabled]='true' type="text" class="formulario__input" [control]="getCtr('codigoBroxel')"  (input)="actualizacionCodigoBrx($event)" formControlName="codigoBroxel" idbInput>
                    <label class="formulario__label">Codigo Broxel</label>
                    
                </div>
                <div id="nivelRiesgo" disabled="funcForm.invalid" class="col-sm-2">
                    <input   type="text" [disabled]="funcForm.invalid" class="formulario__input" (input)="actualizacionRiesgo($event)" pattern="^\d*[0-3]\d*$" [control]="getCtr('nivelRiesgo')" formControlName="nivelRiesgo" idbInput>
                    <label class="formulario__label">Nivel de riesgo</label>
                    
                </div>
            </div>
            
                
                
                <div class="row col-sm-6 flex-container">
                    <button class="btn-img alta-btn"  [disabled]="btnAltaIf"  (click)="habilitaCampos()" type="submit"><span class="tooltip">Alta</span></button>
                    
                    
                    <button class="btn-img eliminar-button" [disabled]="btnEliminarIf"  (click)="eliminar($event)"  type="submit"><span class="tooltip">Borrar</span></button>
                    <button class="btn-img save-button" [disabled]="btnGuardarIf" (click)="validaDatos($event)"  type="submit"><span class="tooltip">Guardar</span></button>
                    <button class="btn-img deshacer-button" [disabled]="btnDeshacerIf" (click)="resetValidador()"   type="submit"><span class="tooltip">Deshacer</span></button>
                    
                </div>   
        

        <!-- <div>
        <input type="number" min="1" max="100" />
    </div> -->

 

    </form>
    
</div>

